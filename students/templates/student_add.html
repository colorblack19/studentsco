{% extends "base.html" %}

{% block content %}

<style>

/* ===== GENERAL ===== */
.container form label{
    font-weight:600;
    margin-bottom:4px;
    display:block;
}

.container form input,
.container form select{
    width:100%;
    height:40px;
    border-radius:8px;
    padding:8px 12px;
    border:1px solid #ced4da;
    font-size:14px;
}

.container form input:focus,
.container form select:focus{
    outline:none;
    border-color:#0d6efd;
    box-shadow:0 0 0 2px rgba(13,110,253,.15);
}

/* ===== MAIN CARD ===== */
.card{
    border-radius:12px;
}

/* ===== FAKE SELECT (OTHER TEACHERS BUTTON) ===== */
.fake-select{
    height:40px;
    border:1px solid #ced4da;
    border-radius:8px;
    padding:6px 12px;
    font-size:14px;
    display:flex;
    align-items:center;
    background:#fff;
    cursor:pointer;
    color:#6c757d;
    transition:0.2s;
}



.fake-select:hover{
    border-color:#0d6efd;
}

/* ===== OTHER TEACHERS BOX ===== */
.other-teachers-box{
    margin-top:8px;
    border:1px solid #dee2e6;
    border-radius:8px;
    
    background:#f9fafb;
     max-height:120px;
    padding:6px;
    overflow-y:auto;
}

/* each checkbox row */
.other-teachers-box label{
    display:flex;
    align-items:center;
    gap:10px;

    padding:4px;
    font-size:14px;
    border-radius:6px;
    cursor:pointer;
}

.other-teachers-box label:hover{
    background:#eef2f7;
}

.other-teachers-box input{
    width:16px;
    height:16px;
    accent-color:#0d6efd;
}

/* ===== BUTTON ===== */
button.btn-primary{
    padding:10px 30px;
    border-radius:8px;
    font-size:15px;
}
/* FIX STATUS HEIGHT */
.status-toggle,
.status-toggle button{
    height:40px !important;
    padding:6px 12px !important;
    font-size:14px;
}
/* ===== FIX CHECKBOX & RADIO SIZE ===== */
.container form input[type="checkbox"],
.container form input[type="radio"]{
    width:16px !important;
    height:16px !important;
    padding:0 !important;
}

/* ===== FIX STATUS BAR HEIGHT ===== */
.status-toggle{
    min-height:38px !important;
    height:38px !important;
}

.status-toggle button{
    padding:4px 12px !important;
    font-size:14px;
}
/* ===== COMPACT OTHER TEACHERS LIST ===== */

.other-teachers-box label{
    padding:3px 6px !important;
    margin:0 !important;
    line-height:1.2;
}

.other-teachers-box{
    padding:4px !important;
}

.other-teachers-box input[type="checkbox"]{
    margin:0 !important;
}


</style>



<div class="container mt-4">

    <h3 class="mb-3">Add Student</h3>

    <div class="card shadow-sm p-4">

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="row mb-3">
                <div class="col-md-6">
                    <label>First Name</label>
                    {{ form.first_name }}
                </div>

                <div class="col-md-6">
                    <label>Last Name</label>
                    {{ form.last_name }}
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label>Gender</label>
                    {{ form.gender }}
                </div>

                <div class="col-md-4">
                    <label>Age</label>
                    {{ form.age }}
                </div>

                <div class="col-md-4">
                    <label>Class Level</label>
                    {{ form.class_level }}
                </div>



            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label>Parent Name</label>
                    {{ form.parent_name }}
                </div>

                <div class="col-md-6">
                    <label>Phone Number</label>
                    {{ form.phone_number }}
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label>Parent ID Number</label>
                    {{ form.parent_id_number }}
                </div>

                <div class="col-md-6">
                    <label>Status</label><br>
                    {{ form.status }}
                </div>
<div class="row mb-3">

    <div class="col-md-6">
        <label>Main Teacher</label>
        {{ form.teacher }}
    </div>

    <div class="col-md-6">
        <label>Other Teachers</label>

        <div class="fake-select" onclick="toggleTeachers()">
            Select Other Teachers
        </div>

        <div id="otherTeachersBox" class="other-teachers-box d-none">
            {{ form.extra_teachers }}
        </div>
    </div>

</div>

       
             </div>

            <!-- FIXED FEESTRUCTURE SECTION -->
            <div class="row mb-3">
                <label>Fee Structure</label>
                <div class="d-flex align-items-center">
                    {{ form.feestructure }}

                    <a href="{% url 'add_feestructure_popup' %}"
                       class="btn btn-sm btn-outline-primary ms-2"
                       onclick="return showAddPopup(this);">
                        +
                    </a>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label>Photo</label>
                    {{ form.photo }}
                </div>

                <div class="col-md-6">
                    <label>Balance</label>
                    {{ form.balance }}
                </div>
            </div>

            <button class="btn btn-primary">Save</button>
        </form>

    </div>
</div>
<script>
function toggleTeachers(){
    const box = document.getElementById("otherTeachersBox");
    box.classList.toggle("d-none");
}
</script>


{% endblock %}
